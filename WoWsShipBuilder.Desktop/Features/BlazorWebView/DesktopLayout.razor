@using WoWsShipBuilder.Infrastructure.Utility
@using WoWsShipBuilder.Features.Settings
@inherits LayoutComponentBase
@inject AppSettings AppSettings

<MudThemeProvider Theme="@theme" IsDarkMode="true"/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <DesktopTopMenu/>
    <MudMainContent Class="px-2">
        <CascadingValue Name="SettingsInitialized" Value="@settingsInitialized">
            @Body
        </CascadingValue>
    </MudMainContent>
</MudLayout>

@code
{
    private readonly bool settingsInitialized = true;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        theme = Helpers.CreateDarkTheme(false, AppSettings.ThemePrimaryColor);
    }

    private MudTheme theme = new();
}
